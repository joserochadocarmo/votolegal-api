<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: finite_state_machine Pages: 1 -->
<svg width="2129pt" height="1123pt"
 viewBox="0.00 0.00 2129.17 1122.73" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1118.7331)">
<title>finite_state_machine</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1118.7331 2125.1728,-1118.7331 2125.1728,4 -4,4"/>
<!-- created -->
<g id="node1" class="node">
<title>created</title>
<ellipse fill="none" stroke="#000000" cx="102.2145" cy="-921.0211" rx="38.8292" ry="38.8292"/>
<ellipse fill="none" stroke="#000000" cx="102.2145" cy="-921.0211" rx="42.8208" ry="42.8208"/>
<text text-anchor="middle" x="102.2145" y="-916.8211" font-family="Times,serif" font-size="14.00" fill="#000000">created</text>
</g>
<!-- boleto_authentication -->
<g id="node2" class="node">
<title>boleto_authentication</title>
<ellipse fill="none" stroke="#000000" cx="476.6474" cy="-1020.0211" rx="94.9245" ry="94.9245"/>
<text text-anchor="middle" x="476.6474" y="-1015.8211" font-family="Times,serif" font-size="14.00" fill="#000000">boleto_authentication</text>
</g>
<!-- created&#45;&gt;boleto_authentication -->
<g id="edge8" class="edge">
<title>created&#45;&gt;boleto_authentication</title>
<path fill="none" stroke="#000000" d="M143.716,-931.9941C199.0213,-946.6168 298.725,-972.9785 374.6534,-993.0539"/>
<polygon fill="#000000" stroke="#000000" points="374.1681,-996.5458 384.7305,-995.7183 375.9574,-989.7784 374.1681,-996.5458"/>
<text text-anchor="middle" x="293.1822" y="-991.2211" font-family="Times,serif" font-size="14.00" fill="#000000">AuthorizationNeeded</text>
</g>
<!-- create_invoice -->
<g id="node4" class="node">
<title>create_invoice</title>
<ellipse fill="none" stroke="#000000" cx="476.6474" cy="-822.0211" rx="67.1734" ry="67.1734"/>
<text text-anchor="middle" x="476.6474" y="-817.8211" font-family="Times,serif" font-size="14.00" fill="#000000">create_invoice</text>
</g>
<!-- created&#45;&gt;create_invoice -->
<g id="edge9" class="edge">
<title>created&#45;&gt;create_invoice</title>
<path fill="none" stroke="#000000" d="M143.716,-910.0481C205.8903,-893.6093 324.1764,-862.3344 401.7136,-841.8336"/>
<polygon fill="#000000" stroke="#000000" points="402.658,-845.2042 411.4311,-839.2643 400.8687,-838.4368 402.658,-845.2042"/>
<text text-anchor="middle" x="293.1822" y="-892.2211" font-family="Times,serif" font-size="14.00" fill="#000000">AuthorizationNotNeeded</text>
</g>
<!-- certificate_refused -->
<g id="node3" class="node">
<title>certificate_refused</title>
<ellipse fill="none" stroke="#000000" cx="817.8029" cy="-1024.0211" rx="82.7569" ry="82.7569"/>
<text text-anchor="middle" x="817.8029" y="-1019.8211" font-family="Times,serif" font-size="14.00" fill="#000000">certificate_refused</text>
</g>
<!-- boleto_authentication&#45;&gt;certificate_refused -->
<g id="edge1" class="edge">
<title>boleto_authentication&#45;&gt;certificate_refused</title>
<path fill="none" stroke="#000000" d="M571.6782,-1021.1353C619.4352,-1021.6953 677.0929,-1022.3713 724.5942,-1022.9283"/>
<polygon fill="#000000" stroke="#000000" points="724.8381,-1026.4313 734.8785,-1023.0488 724.9202,-1019.4318 724.8381,-1026.4313"/>
<text text-anchor="middle" x="641.0544" y="-1026.2211" font-family="Times,serif" font-size="14.00" fill="#000000">not_human</text>
</g>
<!-- boleto_authentication&#45;&gt;create_invoice -->
<g id="edge2" class="edge">
<title>boleto_authentication&#45;&gt;create_invoice</title>
<path fill="none" stroke="#000000" d="M476.6474,-925.0558C476.6474,-916.545 476.6474,-907.9945 476.6474,-899.6563"/>
<polygon fill="#000000" stroke="#000000" points="480.1475,-899.6077 476.6474,-889.6077 473.1475,-899.6077 480.1475,-899.6077"/>
<text text-anchor="middle" x="465.2474" y="-903.1334" font-family="Times,serif" font-size="14.00" fill="#000000">human_verified</text>
</g>
<!-- certificate_refused&#45;&gt;create_invoice -->
<g id="edge5" class="edge">
<title>certificate_refused&#45;&gt;create_invoice</title>
<path fill="none" stroke="#000000" d="M746.4694,-981.7841C686.7607,-946.4303 602.1762,-896.3474 543.6989,-861.7227"/>
<polygon fill="#000000" stroke="#000000" points="545.2945,-858.5999 534.9065,-856.5166 541.728,-864.6233 545.2945,-858.5999"/>
<text text-anchor="middle" x="641.0544" y="-951.2211" font-family="Times,serif" font-size="14.00" fill="#000000">pay_with_cc</text>
</g>
<!-- start_cc_payment -->
<g id="node8" class="node">
<title>start_cc_payment</title>
<ellipse fill="none" stroke="#000000" cx="817.8029" cy="-612.0211" rx="79.2922" ry="79.2922"/>
<text text-anchor="middle" x="817.8029" y="-607.8211" font-family="Times,serif" font-size="14.00" fill="#000000">start_cc_payment</text>
</g>
<!-- create_invoice&#45;&gt;start_cc_payment -->
<g id="edge6" class="edge">
<title>create_invoice&#45;&gt;start_cc_payment</title>
<path fill="none" stroke="#000000" d="M534.134,-786.635C591.1734,-751.524 678.9186,-697.5121 741.7101,-658.8605"/>
<polygon fill="#000000" stroke="#000000" points="743.7176,-661.7347 750.3988,-653.5121 740.0481,-655.7736 743.7176,-661.7347"/>
<text text-anchor="middle" x="641.0544" y="-753.2211" font-family="Times,serif" font-size="14.00" fill="#000000">credit_card_added</text>
</g>
<!-- waiting_boleto_payment -->
<g id="node9" class="node">
<title>waiting_boleto_payment</title>
<ellipse fill="none" stroke="#000000" cx="817.8029" cy="-816.0211" rx="107.1072" ry="107.1072"/>
<text text-anchor="middle" x="817.8029" y="-811.8211" font-family="Times,serif" font-size="14.00" fill="#000000">waiting_boleto_payment</text>
</g>
<!-- create_invoice&#45;&gt;waiting_boleto_payment -->
<g id="edge7" class="edge">
<title>create_invoice&#45;&gt;waiting_boleto_payment</title>
<path fill="none" stroke="#000000" d="M544.0487,-820.8357C588.6525,-820.0513 648.3326,-819.0016 700.5846,-818.0827"/>
<polygon fill="#000000" stroke="#000000" points="700.6519,-821.5821 710.5888,-817.9067 700.5288,-814.5832 700.6519,-821.5821"/>
<text text-anchor="middle" x="641.0544" y="-824.2211" font-family="Times,serif" font-size="14.00" fill="#000000">boleto_generated</text>
</g>
<!-- capture_cc -->
<g id="node5" class="node">
<title>capture_cc</title>
<ellipse fill="#60afff" stroke="#000000" cx="1170.2243" cy="-496.0211" rx="52.7084" ry="52.7084"/>
<text text-anchor="middle" x="1170.2243" y="-491.8211" font-family="Times,serif" font-size="14.00" fill="#000000">capture_cc</text>
</g>
<!-- error_manual_check -->
<g id="node6" class="node">
<title>error_manual_check</title>
<ellipse fill="#ffd6bf" stroke="#000000" cx="2030.7765" cy="-707.0211" rx="90.2927" ry="90.2927"/>
<text text-anchor="middle" x="2030.7765" y="-702.8211" font-family="Times,serif" font-size="14.00" fill="#000000">error_manual_check</text>
</g>
<!-- capture_cc&#45;&gt;error_manual_check -->
<g id="edge3" class="edge">
<title>capture_cc&#45;&gt;error_manual_check</title>
<path fill="none" stroke="#000000" d="M1221.7977,-508.6665C1361.6406,-542.9548 1749.7955,-638.127 1932.8487,-683.0101"/>
<polygon fill="#000000" stroke="#000000" points="1932.1957,-686.4536 1942.7415,-685.4357 1933.8627,-679.6549 1932.1957,-686.4536"/>
<text text-anchor="middle" x="1612.7372" y="-618.2211" font-family="Times,serif" font-size="14.00" fill="#000000">error</text>
</g>
<!-- register_capture -->
<g id="node7" class="node">
<title>register_capture</title>
<ellipse fill="#68ffa7" stroke="#000000" cx="1479.5226" cy="-428.0211" rx="73.4707" ry="73.4707"/>
<text text-anchor="middle" x="1479.5226" y="-423.8211" font-family="Times,serif" font-size="14.00" fill="#000000">register_capture</text>
</g>
<!-- capture_cc&#45;&gt;register_capture -->
<g id="edge4" class="edge">
<title>capture_cc&#45;&gt;register_capture</title>
<path fill="none" stroke="#000000" d="M1221.9938,-484.6395C1270.0143,-474.082 1342.2551,-458.1997 1398.0145,-445.9409"/>
<polygon fill="#000000" stroke="#000000" points="1398.8559,-449.3396 1407.8711,-443.7739 1397.3527,-442.5028 1398.8559,-449.3396"/>
<text text-anchor="middle" x="1341.2371" y="-473.2211" font-family="Times,serif" font-size="14.00" fill="#000000">captured</text>
</g>
<!-- pending_registration -->
<g id="node12" class="node">
<title>pending_registration</title>
<ellipse fill="none" stroke="#000000" cx="1763.6733" cy="-407.0211" rx="90.9129" ry="90.9129"/>
<text text-anchor="middle" x="1763.6733" y="-402.8211" font-family="Times,serif" font-size="14.00" fill="#000000">pending_registration</text>
</g>
<!-- register_capture&#45;&gt;pending_registration -->
<g id="edge14" class="edge">
<title>register_capture&#45;&gt;pending_registration</title>
<path fill="none" stroke="#000000" d="M1552.8618,-423.8886C1584.2469,-421.9978 1621.2934,-419.6037 1654.7169,-417.0211 1657.4202,-416.8123 1660.1607,-416.5956 1662.9259,-416.3726"/>
<polygon fill="#000000" stroke="#000000" points="1663.3451,-419.8501 1673.0239,-415.5407 1662.7702,-412.8737 1663.3451,-419.8501"/>
<text text-anchor="middle" x="1612.7372" y="-427.2211" font-family="Times,serif" font-size="14.00" fill="#000000">error</text>
</g>
<!-- refunded -->
<g id="node13" class="node">
<title>refunded</title>
<ellipse fill="#ffd6bf" stroke="#000000" cx="2030.7765" cy="-281.0211" rx="45.2073" ry="45.2073"/>
<text text-anchor="middle" x="2030.7765" y="-276.8211" font-family="Times,serif" font-size="14.00" fill="#000000">refunded</text>
</g>
<!-- register_capture&#45;&gt;refunded -->
<g id="edge15" class="edge">
<title>register_capture&#45;&gt;refunded</title>
<path fill="none" stroke="#000000" d="M1532.4486,-376.9346C1568.751,-345.4892 1619.7732,-307.9209 1672.7169,-290.2211 1775.3015,-255.9257 1903.7896,-263.9884 1975.618,-272.6805"/>
<polygon fill="#000000" stroke="#000000" points="1975.4356,-276.1851 1985.7947,-273.9626 1976.3106,-269.24 1975.4356,-276.1851"/>
<text text-anchor="middle" x="1763.6733" y="-295.2211" font-family="Times,serif" font-size="14.00" fill="#000000">refunded</text>
</g>
<!-- wait_for_compensation -->
<g id="node16" class="node">
<title>wait_for_compensation</title>
<ellipse fill="none" stroke="#000000" cx="102.2145" cy="-263.0211" rx="102.4294" ry="102.4294"/>
<text text-anchor="middle" x="102.2145" y="-258.8211" font-family="Times,serif" font-size="14.00" fill="#000000">wait_for_compensation</text>
</g>
<!-- register_capture&#45;&gt;wait_for_compensation -->
<g id="edge16" class="edge">
<title>register_capture&#45;&gt;wait_for_compensation</title>
<path fill="none" stroke="#000000" d="M1406.4418,-423.2173C1343.7905,-419.5141 1251.1105,-415.0211 1170.2243,-415.0211 476.6474,-415.0211 476.6474,-415.0211 476.6474,-415.0211 375.5215,-415.0211 269.5689,-366.8334 196.2844,-324.7221"/>
<polygon fill="#000000" stroke="#000000" points="197.9157,-321.622 187.5117,-319.6203 194.3966,-327.6732 197.9157,-321.622"/>
<text text-anchor="middle" x="817.8029" y="-419.2211" font-family="Times,serif" font-size="14.00" fill="#000000">ok</text>
</g>
<!-- start_cc_payment&#45;&gt;capture_cc -->
<g id="edge19" class="edge">
<title>start_cc_payment&#45;&gt;capture_cc</title>
<path fill="none" stroke="#000000" d="M893.4062,-587.1362C958.2581,-565.7901 1050.452,-535.4443 1110.3054,-515.7435"/>
<polygon fill="#000000" stroke="#000000" points="1111.5861,-519.0068 1119.9905,-512.5556 1109.3975,-512.3577 1111.5861,-519.0068"/>
<text text-anchor="middle" x="994.5592" y="-572.2211" font-family="Times,serif" font-size="14.00" fill="#000000">cc_authorized</text>
</g>
<!-- not_authorized -->
<g id="node17" class="node">
<title>not_authorized</title>
<ellipse fill="#ffbfc6" stroke="#000000" cx="1170.2243" cy="-636.0211" rx="68.9235" ry="68.9235"/>
<text text-anchor="middle" x="1170.2243" y="-631.8211" font-family="Times,serif" font-size="14.00" fill="#000000">not_authorized</text>
</g>
<!-- start_cc_payment&#45;&gt;not_authorized -->
<g id="edge20" class="edge">
<title>start_cc_payment&#45;&gt;not_authorized</title>
<path fill="none" stroke="#000000" d="M896.8932,-617.4072C954.8055,-621.351 1033.0714,-626.681 1091.0123,-630.6268"/>
<polygon fill="#000000" stroke="#000000" points="1091.0055,-634.1343 1101.2202,-631.3219 1091.4811,-627.1505 1091.0055,-634.1343"/>
<text text-anchor="middle" x="994.5592" y="-632.2211" font-family="Times,serif" font-size="14.00" fill="#000000">cc_not_authorized</text>
</g>
<!-- validate_payment -->
<g id="node19" class="node">
<title>validate_payment</title>
<ellipse fill="#60afff" stroke="#000000" cx="1170.2243" cy="-959.0211" rx="79.8759" ry="79.8759"/>
<text text-anchor="middle" x="1170.2243" y="-954.8211" font-family="Times,serif" font-size="14.00" fill="#000000">validate_payment</text>
</g>
<!-- waiting_boleto_payment&#45;&gt;validate_payment -->
<g id="edge29" class="edge">
<title>waiting_boleto_payment&#45;&gt;validate_payment</title>
<path fill="none" stroke="#000000" d="M917.3796,-856.4258C970.937,-878.1574 1036.2245,-904.6488 1087.0408,-925.2683"/>
<polygon fill="#000000" stroke="#000000" points="1085.7726,-928.5308 1096.3549,-929.0476 1088.4046,-922.0444 1085.7726,-928.5308"/>
<text text-anchor="middle" x="994.5592" y="-912.2211" font-family="Times,serif" font-size="14.00" fill="#000000">boleto_paid</text>
</g>
<!-- boleto_expired -->
<g id="node20" class="node">
<title>boleto_expired</title>
<ellipse fill="#ffbfc6" stroke="#000000" cx="1170.2243" cy="-792.0211" rx="68.9235" ry="68.9235"/>
<text text-anchor="middle" x="1170.2243" y="-787.8211" font-family="Times,serif" font-size="14.00" fill="#000000">boleto_expired</text>
</g>
<!-- waiting_boleto_payment&#45;&gt;boleto_expired -->
<g id="edge28" class="edge">
<title>waiting_boleto_payment&#45;&gt;boleto_expired</title>
<path fill="none" stroke="#000000" d="M924.9764,-808.7226C978.4805,-805.0789 1042.0714,-800.7484 1091.0915,-797.4101"/>
<polygon fill="#000000" stroke="#000000" points="1091.5827,-800.8848 1101.3218,-796.7134 1091.1071,-793.901 1091.5827,-800.8848"/>
<text text-anchor="middle" x="994.5592" y="-811.2211" font-family="Times,serif" font-size="14.00" fill="#000000">due_reached</text>
</g>
<!-- pending_refund_register -->
<g id="node10" class="node">
<title>pending_refund_register</title>
<ellipse fill="none" stroke="#000000" cx="1170.2243" cy="-281.0211" rx="105.9247" ry="105.9247"/>
<text text-anchor="middle" x="1170.2243" y="-276.8211" font-family="Times,serif" font-size="14.00" fill="#000000">pending_refund_register</text>
</g>
<!-- register_refund -->
<g id="node11" class="node">
<title>register_refund</title>
<ellipse fill="none" stroke="#000000" cx="1170.2243" cy="-70.0211" rx="70.0423" ry="70.0423"/>
<text text-anchor="middle" x="1170.2243" y="-65.8211" font-family="Times,serif" font-size="14.00" fill="#000000">register_refund</text>
</g>
<!-- pending_refund_register&#45;&gt;register_refund -->
<g id="edge10" class="edge">
<title>pending_refund_register&#45;&gt;register_refund</title>
<path fill="none" stroke="#000000" d="M1170.2243,-174.9247C1170.2243,-166.6614 1170.2243,-158.4031 1170.2243,-150.3523"/>
<polygon fill="#000000" stroke="#000000" points="1173.7244,-150.281 1170.2243,-140.2811 1166.7244,-150.2811 1173.7244,-150.281"/>
<text text-anchor="middle" x="1158.8243" y="-153.3505" font-family="Times,serif" font-size="14.00" fill="#000000">try_again</text>
</g>
<!-- register_refund&#45;&gt;pending_refund_register -->
<g id="edge17" class="edge">
<title>register_refund&#45;&gt;pending_refund_register</title>
<path fill="none" stroke="#000000" d="M1189.0706,-137.5642C1189.4268,-139.7113 1189.7469,-141.8445 1190.0243,-143.9523 1191.0058,-151.4111 1191.4515,-159.0941 1191.4779,-166.8353"/>
<polygon fill="#000000" stroke="#000000" points="1187.9748,-166.9655 1191.2808,-177.0313 1194.9735,-167.1009 1187.9748,-166.9655"/>
<text text-anchor="middle" x="1181.6243" y="-153.3505" font-family="Times,serif" font-size="14.00" fill="#000000">error</text>
</g>
<!-- register_refund&#45;&gt;refunded -->
<g id="edge18" class="edge">
<title>register_refund&#45;&gt;refunded</title>
<path fill="none" stroke="#000000" d="M1238.4697,-86.7543C1404.4052,-127.4403 1826.378,-230.9044 1976.6313,-267.7452"/>
<polygon fill="#000000" stroke="#000000" points="1976.0058,-271.1954 1986.5516,-270.1776 1977.6728,-264.3968 1976.0058,-271.1954"/>
<text text-anchor="middle" x="1612.7372" y="-192.2211" font-family="Times,serif" font-size="14.00" fill="#000000">ok</text>
</g>
<!-- pending_registration&#45;&gt;register_capture -->
<g id="edge12" class="edge">
<title>pending_registration&#45;&gt;register_capture</title>
<path fill="none" stroke="#000000" d="M1672.9966,-397.0222C1640.5924,-395.2405 1603.9048,-395.2831 1570.7575,-400.2211 1566.8614,-400.8015 1562.9016,-401.5141 1558.9235,-402.3293"/>
<polygon fill="#000000" stroke="#000000" points="1558.0148,-398.9461 1549.0234,-404.5502 1559.5471,-405.7764 1558.0148,-398.9461"/>
<text text-anchor="middle" x="1612.7372" y="-405.2211" font-family="Times,serif" font-size="14.00" fill="#000000">try_again</text>
</g>
<!-- pending_registration&#45;&gt;refunded -->
<g id="edge11" class="edge">
<title>pending_registration&#45;&gt;refunded</title>
<path fill="none" stroke="#000000" d="M1845.9926,-368.1889C1889.9395,-347.4579 1942.6102,-322.6116 1980.4544,-304.7594"/>
<polygon fill="#000000" stroke="#000000" points="1982.1911,-307.8101 1989.7421,-300.3782 1979.2046,-301.4792 1982.1911,-307.8101"/>
<text text-anchor="middle" x="1897.505" y="-360.2211" font-family="Times,serif" font-size="14.00" fill="#000000">refunded</text>
</g>
<!-- pending_transfer -->
<g id="node14" class="node">
<title>pending_transfer</title>
<ellipse fill="none" stroke="#000000" cx="817.8029" cy="-303.0211" rx="76.4266" ry="76.4266"/>
<text text-anchor="middle" x="817.8029" y="-298.8211" font-family="Times,serif" font-size="14.00" fill="#000000">pending_transfer</text>
</g>
<!-- transfer_money -->
<g id="node15" class="node">
<title>transfer_money</title>
<ellipse fill="none" stroke="#000000" cx="476.6474" cy="-263.0211" rx="71.7699" ry="71.7699"/>
<text text-anchor="middle" x="476.6474" y="-258.8211" font-family="Times,serif" font-size="14.00" fill="#000000">transfer_money</text>
</g>
<!-- pending_transfer&#45;&gt;transfer_money -->
<g id="edge13" class="edge">
<title>pending_transfer&#45;&gt;transfer_money</title>
<path fill="none" stroke="#000000" d="M741.5223,-296.8728C697.0584,-292.9901 639.9475,-287.4901 589.3594,-281.0211 579.0815,-279.7068 568.2998,-278.1785 557.6491,-276.5784"/>
<polygon fill="#000000" stroke="#000000" points="557.9124,-273.078 547.4983,-275.0269 556.8547,-279.9977 557.9124,-273.078"/>
<text text-anchor="middle" x="641.0544" y="-297.2211" font-family="Times,serif" font-size="14.00" fill="#000000">try_again</text>
</g>
<!-- transfer_money&#45;&gt;pending_transfer -->
<g id="edge22" class="edge">
<title>transfer_money&#45;&gt;pending_transfer</title>
<path fill="none" stroke="#000000" d="M548.1804,-255.772C590.5039,-253.0498 645.0039,-252.2768 692.7494,-260.2211 707.2788,-262.6387 722.3839,-266.5346 736.8626,-271.0155"/>
<polygon fill="#000000" stroke="#000000" points="736.1802,-274.4725 746.7715,-274.2002 738.3221,-267.8082 736.1802,-274.4725"/>
<text text-anchor="middle" x="641.0544" y="-265.2211" font-family="Times,serif" font-size="14.00" fill="#000000">error</text>
</g>
<!-- transfer_done -->
<g id="node18" class="node">
<title>transfer_done</title>
<ellipse fill="none" stroke="#000000" cx="817.8029" cy="-144.0211" rx="64.2456" ry="64.2456"/>
<text text-anchor="middle" x="817.8029" y="-139.8211" font-family="Times,serif" font-size="14.00" fill="#000000">transfer_done</text>
</g>
<!-- transfer_money&#45;&gt;transfer_done -->
<g id="edge23" class="edge">
<title>transfer_money&#45;&gt;transfer_done</title>
<path fill="none" stroke="#000000" d="M544.4566,-239.3683C603.1755,-218.8863 687.7971,-189.369 747.2931,-168.616"/>
<polygon fill="#000000" stroke="#000000" points="748.6978,-171.8329 756.9871,-165.2346 746.3923,-165.2234 748.6978,-171.8329"/>
<text text-anchor="middle" x="641.0544" y="-226.2211" font-family="Times,serif" font-size="14.00" fill="#000000">transferred</text>
</g>
<!-- wait_for_compensation&#45;&gt;register_refund -->
<g id="edge26" class="edge">
<title>wait_for_compensation&#45;&gt;register_refund</title>
<path fill="none" stroke="#000000" d="M196.4978,-223.3877C314.3103,-176.1944 523.2771,-100.1033 710.7494,-71.0211 842.573,-50.5716 998.242,-56.4125 1090.3494,-62.922"/>
<polygon fill="#000000" stroke="#000000" points="1090.2078,-66.4208 1100.4354,-63.6555 1090.7157,-59.4393 1090.2078,-66.4208"/>
<text text-anchor="middle" x="641.0544" y="-99.2211" font-family="Times,serif" font-size="14.00" fill="#000000">refunded</text>
</g>
<!-- wait_for_compensation&#45;&gt;transfer_money -->
<g id="edge27" class="edge">
<title>wait_for_compensation&#45;&gt;transfer_money</title>
<path fill="none" stroke="#000000" d="M204.5299,-263.0211C264.3574,-263.0211 338.8603,-263.0211 394.7761,-263.0211"/>
<polygon fill="#000000" stroke="#000000" points="394.9928,-266.5212 404.9928,-263.0211 394.9927,-259.5212 394.9928,-266.5212"/>
<text text-anchor="middle" x="293.1822" y="-267.2211" font-family="Times,serif" font-size="14.00" fill="#000000">done</text>
</g>
<!-- transfer_done&#45;&gt;register_refund -->
<g id="edge21" class="edge">
<title>transfer_done&#45;&gt;register_refund</title>
<path fill="none" stroke="#000000" d="M880.8088,-130.7914C939.7255,-118.4203 1027.9225,-99.9011 1091.4613,-86.5595"/>
<polygon fill="#000000" stroke="#000000" points="1092.3716,-89.9447 1101.4389,-84.4644 1090.9331,-83.0941 1092.3716,-89.9447"/>
<text text-anchor="middle" x="994.5592" y="-120.2211" font-family="Times,serif" font-size="14.00" fill="#000000">refunded</text>
</g>
<!-- validate_payment&#45;&gt;error_manual_check -->
<g id="edge24" class="edge">
<title>validate_payment&#45;&gt;error_manual_check</title>
<path fill="none" stroke="#000000" d="M1246.9708,-936.547C1403.9647,-890.5737 1761.5057,-785.8731 1934.0625,-735.3424"/>
<polygon fill="#000000" stroke="#000000" points="1935.2866,-738.631 1943.8999,-732.4616 1933.3193,-731.9131 1935.2866,-738.631"/>
<text text-anchor="middle" x="1612.7372" y="-843.2211" font-family="Times,serif" font-size="14.00" fill="#000000">not_acceptable</text>
</g>
<!-- validate_payment&#45;&gt;register_capture -->
<g id="edge25" class="edge">
<title>validate_payment&#45;&gt;register_capture</title>
<path fill="none" stroke="#000000" d="M1235.0812,-912.3309C1249.8104,-899.7236 1264.5296,-885.3019 1276.1866,-870.0211 1362.5286,-756.838 1423.3142,-601.1121 1454.7712,-507.914"/>
<polygon fill="#000000" stroke="#000000" points="1458.1478,-508.8528 1458.0006,-498.259 1451.5092,-506.6324 1458.1478,-508.8528"/>
<text text-anchor="middle" x="1341.2371" y="-843.2211" font-family="Times,serif" font-size="14.00" fill="#000000">paid_amount_ok</text>
</g>
</g>
</svg>
